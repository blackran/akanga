{"ast":null,"code":"import _defineProperty from\"D:\\\\trav\\\\REACT\\\\perle\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"D:\\\\trav\\\\REACT\\\\perle\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\trav\\\\REACT\\\\perle\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"D:\\\\trav\\\\REACT\\\\perle\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\trav\\\\REACT\\\\perle\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\trav\\\\REACT\\\\perle\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\trav\\\\REACT\\\\perle\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{Link}from'react-router-dom';import{TextField,Input,IconButton,InputAdornment}from'@material-ui/core';import{createMuiTheme,ThemeProvider}from'@material-ui/core/styles';import{Visibility,VisibilityOff}from'@material-ui/icons';var theme=createMuiTheme({palette:{type:'dark'}});var Connexion=/*#__PURE__*/function(_Component){_inherits(Connexion,_Component);var _super=_createSuper(Connexion);function Connexion(props){var _this;_classCallCheck(this,Connexion);_this=_super.call(this,props);_this.state={email:'',password:'',error:false,isLoading:false,isShow:false};return _this;}_createClass(Connexion,[{key:\"onSubmit\",value:function onSubmit(e){var _this2=this;e.preventDefault();var _this$state=this.state,email=_this$state.email,password=_this$state.password;if(email!==''&&password!==''){this.setState({isLoading:true});axios.post('/api/login',{email:email,password:password}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:token=_ref.data.token;_this2.setState({isLoading:false});_context.next=4;return localStorage.setItem('Token',JSON.stringify(token));case 4:_this2.props.history.push('/Profiles');case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}()).catch(function(e){_this2.setState({isLoading:false,error:true});});}}},{key:\"onChangeInput\",value:function onChangeInput(e){var _this$setState;this.setState((_this$setState={},_defineProperty(_this$setState,e.target.name,e.target.value),_defineProperty(_this$setState,\"error\",false),_this$setState));}},{key:\"render\",value:function render(){var _this3=this;var _this$state2=this.state,error=_this$state2.error,isLoading=_this$state2.isLoading,email=_this$state2.email,password=_this$state2.password,isShow=_this$state2.isShow;return/*#__PURE__*/React.createElement(\"div\",{className:\"Connection\"},/*#__PURE__*/React.createElement(ThemeProvider,{theme:theme},/*#__PURE__*/React.createElement(\"div\",{className:\"parent-space-between\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(Link,{className:\"backward-round\",to:\"/\"},\"Revenir\"))),/*#__PURE__*/React.createElement(\"h1\",{className:\"whiteSpecialTitle\"},\"Rencontre love\"),/*#__PURE__*/React.createElement(\"div\",{className:\"boxRounded dark-shadow\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"whiteSecondTitle centeredText\"},\"Connexion\"),/*#__PURE__*/React.createElement(\"form\",{className:\"margin-tb-20\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"standar-vertic-spacing standar-bottom-spacing\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(TextField,{id:\"standard-basic\",label:\"Email\",value:email,error:error,onChange:this.onChangeInput.bind(this),className:\"max-width input-transparent\",name:\"email\"})),/*#__PURE__*/React.createElement(\"li\",{style:{marginTop:30}},/*#__PURE__*/React.createElement(Input,{placeholder:\"Password\",type:isShow?'text':'password',value:password,error:error,className:\"max-width\",onChange:this.onChangeInput.bind(this),name:\"password\",endAdornment:/*#__PURE__*/React.createElement(InputAdornment,{position:\"end\"},/*#__PURE__*/React.createElement(IconButton,{\"aria-label\":\"toggle password visibility\",onClick:function onClick(){return _this3.setState({isShow:!isShow});},onMouseDown:function onMouseDown(e){return e.preventDefault();}},isShow?/*#__PURE__*/React.createElement(Visibility,null):/*#__PURE__*/React.createElement(VisibilityOff,null)))})),error?/*#__PURE__*/React.createElement(\"li\",{style:{color:'red'}},\"E-mail ou mot de passe incorrect\"):null),/*#__PURE__*/React.createElement(\"ul\",{className:\"standar-vertic-spacing\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"input\",{style:{cursor:'pointer'},className:\"max-width btn button-light-blue\",type:\"button\",value:isLoading?'Loading...':'Connexion',onClick:this.onSubmit.bind(this)})),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(Link,{to:\"/Authentification=Inscription\"},/*#__PURE__*/React.createElement(\"input\",{style:{cursor:'pointer'},className:\"max-width btn btn-light-border-only\",type:\"button\",value:\"Inscription\"}))))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"li\",{className:\"centeredText small-padding \"},\"Ou se connecter avec\"),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"ul\",{className:\"inline\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"input\",{className:\"btn btn-social-network btn-facebook\",type:\"button\",value:\"Facebook\"})),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"input\",{className:\"btn btn-social-network btn-google\",type:\"button\",value:\"Google\"}))))))));}}]);return Connexion;}(Component);export default Connexion;","map":{"version":3,"sources":["D:/trav/REACT/perle/src/components/clients/authentification/layouts/connection/Connection.jsx"],"names":["React","Component","axios","Link","TextField","Input","IconButton","InputAdornment","createMuiTheme","ThemeProvider","Visibility","VisibilityOff","theme","palette","type","Connexion","props","state","email","password","error","isLoading","isShow","e","preventDefault","setState","post","then","token","data","localStorage","setItem","JSON","stringify","history","push","catch","target","name","value","onChangeInput","bind","marginTop","color","cursor","onSubmit"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\nimport {\n    TextField,\n    Input,\n    IconButton,\n    InputAdornment\n} from '@material-ui/core'\nimport {\n    createMuiTheme,\n    ThemeProvider\n} from '@material-ui/core/styles'\n\nimport {\n    Visibility,\n    VisibilityOff\n} from '@material-ui/icons'\n\nconst theme = createMuiTheme({\n    palette: {\n        type: 'dark'\n    }\n})\n\nclass Connexion extends Component {\n    constructor (props) {\n        super(props)\n        this.state = {\n            email: '',\n            password: '',\n            error: false,\n            isLoading: false,\n            isShow: false\n        }\n    }\n\n    onSubmit (e) {\n        e.preventDefault()\n        const {\n            email,\n            password\n        } = this.state\n        if (email !== '' && password !== '') {\n            this.setState({ isLoading: true })\n            axios\n                .post('/api/login', {\n                    email,\n                    password\n                })\n                .then(async ({ data: { token } }) => {\n                    this.setState({ isLoading: false })\n                    await localStorage.setItem('Token', JSON.stringify(token))\n                    this.props.history.push('/Profiles')\n                })\n                .catch(e => {\n                    this.setState({ isLoading: false, error: true })\n                })\n        }\n    }\n\n    onChangeInput (e) {\n        this.setState({ [e.target.name]: e.target.value, error: false })\n    }\n\n    render () {\n        const {\n            error,\n            isLoading,\n            email,\n            password,\n            isShow\n        } = this.state\n        return (\n            <div className='Connection'>\n                <ThemeProvider theme={theme}>\n                    <div className=\"parent-space-between\">\n                        <p><Link className=\"backward-round\" to='/'>Revenir</Link></p>\n                    </div>\n\n                    <h1 className=\"whiteSpecialTitle\">Rencontre love</h1>\n\n                    <div className=\"boxRounded dark-shadow\">\n                        <h2 className=\"whiteSecondTitle centeredText\">Connexion</h2>\n                        <form className=\"margin-tb-20\" >\n                            <ul className=\"standar-vertic-spacing standar-bottom-spacing\">\n                                <li>\n                                    <TextField\n                                        id=\"standard-basic\"\n                                        label=\"Email\"\n                                        value={email}\n                                        error={error}\n                                        onChange={this.onChangeInput.bind(this)}\n                                        className=\"max-width input-transparent\"\n                                        name='email'\n                                    />\n                                </li>\n                                <li style={{ marginTop: 30 }}>\n                                    <Input\n                                        placeholder=\"Password\"\n                                        type={isShow ? 'text' : 'password'}\n                                        value={password}\n                                        error={error}\n                                        className=\"max-width\"\n                                        onChange={this.onChangeInput.bind(this)}\n                                        name='password'\n                                        endAdornment={\n                                            <InputAdornment position=\"end\">\n                                                <IconButton\n                                                    aria-label=\"toggle password visibility\"\n                                                    onClick={() => this.setState({ isShow: !isShow })}\n                                                    onMouseDown={(e) => e.preventDefault()}\n                                                >\n                                                    {isShow ? <Visibility /> : <VisibilityOff />}\n                                                </IconButton>\n                                            </InputAdornment>\n                                        }\n                                    />\n                                </li>\n                                { error ? <li style={{ color: 'red' }}>E-mail ou mot de passe incorrect</li> : null }\n                            </ul>\n\n                            <ul className=\"standar-vertic-spacing\">\n                                <li>\n                                    <input\n                                        style={{ cursor: 'pointer' }}\n                                        className=\"max-width btn button-light-blue\"\n                                        type=\"button\"\n                                        value={ isLoading ? 'Loading...' : 'Connexion' }\n                                        onClick={this.onSubmit.bind(this)}\n                                    />\n                                </li>\n                                <li>\n                                    <Link to=\"/Authentification=Inscription\">\n                                        <input\n                                            style={{ cursor: 'pointer' }}\n                                            className=\"max-width btn btn-light-border-only\"\n                                            type=\"button\"\n                                            value=\"Inscription\"\n                                        />\n                                    </Link>\n                                </li>\n                            </ul>\n                        </form>\n\n                        <div>\n                            <li className=\"centeredText small-padding \">Ou se connecter avec</li>\n                            <li>\n                                <ul className=\"inline\">\n                                    <li><input className=\"btn btn-social-network btn-facebook\" type=\"button\" value=\"Facebook\" /></li>\n                                    <li><input className=\"btn btn-social-network btn-google\" type=\"button\" value=\"Google\" /></li>\n                                </ul>\n                            </li>\n                        </div>\n                    </div>\n                </ThemeProvider>\n            </div>\n        )\n    }\n}\n\nexport default Connexion\n"]},"metadata":{},"sourceType":"module"}