{"ast":null,"code":"var _jsxFileName = \"/home/files/javascript/react/reactjs/tp/perle/src/components/clients/authentification/layouts/monDomicile/layouts/inputAuto/InputAuto.jsx\";\n// *https://www.registers.service.gov.uk/registers/country/use-the-api*\nimport React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Grid from '@material-ui/core/Grid';\nimport axios from 'axios';\n\nfunction sleep(delay = 0) {\n  return new Promise(resolve => {\n    setTimeout(resolve, delay);\n  });\n}\n\nfunction InputAuto({\n  Datas,\n  Icon,\n  Key,\n  Label,\n  Event,\n  Name\n}) {\n  const [open, setOpen] = React.useState(false);\n  const [options, setOptions] = React.useState([]);\n  const loading = open && options.length === 0;\n  React.useEffect(() => {\n    let active = true;\n\n    if (!loading) {\n      return undefined;\n    }\n\n    (async () => {\n      const response = await axios.get('https://country.register.gov.uk/records.json?page-size=5000');\n      await sleep(1e3); // For demo purposes.\n\n      const countries = await response.data;\n\n      if (active) {\n        setOptions(Object.keys(countries).map(key => countries[key].item[0]));\n      }\n    })();\n\n    return () => {\n      active = false;\n    };\n  }, [loading]);\n  React.useEffect(() => {\n    if (!open) {\n      setOptions([]);\n    }\n  }, [open]);\n  return /*#__PURE__*/React.createElement(Autocomplete, {\n    id: \"asynchronous-demo\",\n    style: {\n      width: 300\n    },\n    open: open,\n    onOpen: () => {\n      setOpen(true);\n    },\n    onClose: () => {\n      setOpen(false);\n    },\n    getOptionSelected: (option, value) => option.name === value.name,\n    getOptionLabel: option => option.name,\n    options: options,\n    loading: loading,\n    renderInput: params => /*#__PURE__*/React.createElement(Grid, {\n      container: true,\n      spacing: 1,\n      alignItems: \"flex-end\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(Grid, {\n      item: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TextField, Object.assign({}, params, {\n      label: Label,\n      error: false // value={ville}\n      // className=\"max-width\"\n      ,\n      name: Name,\n      style: {\n        width: 215\n      },\n      InputProps: { ...params.InputProps,\n        endAdornment: /*#__PURE__*/React.createElement(React.Fragment, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 37\n          }\n        }, loading ? /*#__PURE__*/React.createElement(CircularProgress, {\n          color: \"inherit\",\n          size: 20,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 52\n          }\n        }) : null, params.InputProps.endAdornment)\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }\n    })))),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  });\n}\n\nexport default InputAuto;","map":{"version":3,"sources":["/home/files/javascript/react/reactjs/tp/perle/src/components/clients/authentification/layouts/monDomicile/layouts/inputAuto/InputAuto.jsx"],"names":["React","TextField","Autocomplete","CircularProgress","Grid","axios","sleep","delay","Promise","resolve","setTimeout","InputAuto","Datas","Icon","Key","Label","Event","Name","open","setOpen","useState","options","setOptions","loading","length","useEffect","active","undefined","response","get","countries","data","Object","keys","map","key","item","width","option","value","name","params","InputProps","endAdornment"],"mappings":"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","sourcesContent":["// *https://www.registers.service.gov.uk/registers/country/use-the-api*\nimport React from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport Grid from '@material-ui/core/Grid'\nimport axios from 'axios'\n\nfunction sleep (delay = 0) {\n    return new Promise((resolve) => {\n        setTimeout(resolve, delay)\n    })\n}\n\nfunction InputAuto ({ Datas, Icon, Key, Label, Event, Name }) {\n    const [open, setOpen] = React.useState(false)\n    const [options, setOptions] = React.useState([])\n    const loading = open && options.length === 0\n\n    React.useEffect(() => {\n        let active = true\n\n        if (!loading) {\n            return undefined\n        }\n\n        (async () => {\n            const response = await axios.get('https://country.register.gov.uk/records.json?page-size=5000')\n            await sleep(1e3) // For demo purposes.\n            const countries = await response.data\n\n            if (active) {\n                setOptions(Object.keys(countries).map((key) => countries[key].item[0]))\n            }\n        })()\n\n        return () => {\n            active = false\n        }\n    }, [loading])\n\n    React.useEffect(() => {\n        if (!open) {\n            setOptions([])\n        }\n    }, [open])\n\n    return (\n        <Autocomplete\n            id=\"asynchronous-demo\"\n            style={{ width: 300 }}\n            open={open}\n            onOpen={() => {\n                setOpen(true)\n            }}\n            onClose={() => {\n                setOpen(false)\n            }}\n            getOptionSelected={(option, value) => option.name === value.name}\n            getOptionLabel={(option) => option.name}\n            options={options}\n            loading={loading}\n            renderInput={(params) => (\n                <Grid container spacing={1} alignItems=\"flex-end\">\n                    <Grid item>\n                        <Icon />\n                    </Grid>\n                    <Grid item>\n                        <TextField\n                            {...params}\n                            label={Label}\n                            error={false}\n                            // value={ville}\n                            // className=\"max-width\"\n                            name={Name}\n                            style={{ width: 215 }}\n                            InputProps={{\n                                ...params.InputProps,\n                                endAdornment: (\n                                    <React.Fragment>\n                                        {loading ? <CircularProgress color=\"inherit\" size={20} /> : null}\n                                        {params.InputProps.endAdornment}\n                                    </React.Fragment>\n                                )\n                            }}\n                        />\n                    </Grid>\n                </Grid>\n            )}\n        />\n    )\n}\n\nexport default InputAuto\n\n"]},"metadata":{},"sourceType":"module"}